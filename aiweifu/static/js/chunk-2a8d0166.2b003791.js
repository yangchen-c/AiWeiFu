(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a8d0166"],{"38af":function(t,s,a){},5650:function(t,s,a){"use strict";a.r(s);var n,e=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"payment_status"},[n("div",{staticClass:"status_top"},[n("img",{staticClass:"status-img",attrs:{src:a("82aa")}}),n("div",{staticClass:"status-txt"},[t._v(t._s(t.statusText))])]),n("div",{staticClass:"order-info"},[n("div",[n("span",[t._v("订单编号: ")]),n("span",{staticClass:"info-right"},[t._v(t._s(t.orderInfo.orders.orderid))])]),n("div",[n("span",[t._v("实付金额: ")]),n("span",{staticClass:"pay-money info-right"},[t._v(t._s(3===t.orderInfo.orders.payType?"0":t.orderInfo.payment)+"元")])]),n("div",[n("span",[t._v("支付方式: ")]),n("span",{staticClass:"info-right"},[t._v(t._s(t._f("payWayStatus")(t.orderInfo.orders.payType)))])])]),n("div",{staticClass:"address-info"},[n("div",[n("span",[t._v("收货人: ")]),n("span",{staticClass:"info-right"},[t._v(t._s(t.orderInfo.addres.name)+"  "+t._s(t.orderInfo.addres.phone))])]),n("div",[n("span",[t._v("收货人地址: ")]),n("span",{staticClass:"info-right"},[t._v(t._s(t.orderInfo.addres.province+t.orderInfo.addres.city+t.orderInfo.addres.county+t.orderInfo.addres.site))])])]),n("div",{staticClass:"buttons"},[n("button",{on:{click:t.goIndex}},[t._v("返回首页")]),n("button",{on:{click:t.again}},[t._v("再来一单")])]),n("van-overlay",{attrs:{show:t.showOverlay},on:{click:function(s){t.showOverlay=!1}}},[n("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"block"},[n("p",{staticClass:"first"},[t._v("恭喜您获得")]),n("p",{staticClass:"second"},[t._v(t._s(t.orderInfo.orders.gainIntegral)+"积分")]),n("p",{staticClass:"third"},[t._v("积分已经发放到您的账户")]),n("p",{staticClass:"third"},[t._v("积分可以用来购买积分商品")]),n("p",{staticClass:"close-btn",on:{click:function(s){t.showOverlay=!1}}})])])])],1)},i=[],r=a("ade3"),o=(a("7f7f"),a("68ef"),a("a71a"),a("6e47")),c=(a("e7e5"),a("d399")),d=a("4ec3"),u={name:"payment-status",filters:{payWayStatus:function(t){var s={1:"微信支付",2:"支付宝支付",3:"货到付款"};return s[t]}},props:{status:String,orderid:String,userid:String},data:function(){return{isSuccess:!0,orderInfo:{addres:{},orders:{}},showOverlay:!1}},created:function(){this.init()},methods:{init:function(){var t=this;c["a"].loading({message:"支付成功",forbidClick:!0,duration:1e3});var s={orderid:this.orderid};Object(d["A"])(s).then((function(s){t.orderInfo=s.data.data;var a={id:t.userid};Object(d["L"])(a).then((function(s){if(0===s.data.code){var a=s.data.data,n=a.integralPresent?a.integralPresent:0;t.$store.commit("setAvailablePoints",n)}else t.$toast("用户信息获取失败")}),(function(){t.$toast("用户信息获取失败")})),t.showOverlay=!0}))},goIndex:function(){this.$router.push({path:"/home"})},again:function(){var t=this,s={orderid:this.orderid};Object(d["y"])(s).then((function(s){0===s.data.code&&t.$router.push("/order/checkout/"+t.orderid)}))}},computed:{statusText:function(){return this.isSuccess?"支付成功":"支付失败"},statusIcon:function(){return this.isSuccess?"checked":"fail"},statusClass:function(){return this.isSuccess?"success_icon":"fail_icon"}},activated:function(){this.isSuccess="success"===this.status},components:(n={},Object(r["a"])(n,o["a"].name,o["a"]),Object(r["a"])(n,c["a"].name,c["a"]),n)},f=u,l=(a("af2d"),a("2877")),p=Object(l["a"])(f,e,i,!1,null,null,null);s["default"]=p.exports},"82aa":function(t,s,a){t.exports=a.p+"static/img/pay_success.b457caf9.png"},ade3:function(t,s,a){"use strict";function n(t,s,a){return s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}a.d(s,"a",(function(){return n}))},af2d:function(t,s,a){"use strict";var n=a("38af"),e=a.n(n);e.a}}]);